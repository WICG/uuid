<!DOCTYPE html><html lang="en"><head>
<meta charset="utf-8">
<meta name="generator" content="ReSpec 26.13.2">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<style>
span.example-title{text-transform:none}
aside.example,div.example,div.illegal-example{padding:.5em;margin:1em 0;position:relative;clear:both}
div.illegal-example{color:red}
div.illegal-example p{color:#000}
aside.example,div.example{padding:.5em;border-left-width:.5em;border-left-style:solid;border-color:#e0cb52;background:#fcfaee}
aside.example div.example{border-left-width:.1em;border-color:#999;background:#fff}
aside.example div.example span.example-title{color:#999}
.example pre{background-color:rgba(0,0,0,.03)}
</style>
<style>
.issue-label{text-transform:initial}
.warning>p:first-child{margin-top:0}
.warning{padding:.5em;border-left-width:.5em;border-left-style:solid}
span.warning{padding:.1em .5em .15em}
.issue.closed span.issue-number{text-decoration:line-through}
.warning{border-color:#f11;border-width:.2em;border-style:solid;background:#fbe9e9}
.warning-title:before{content:"⚠";font-size:1.3em;float:left;padding-right:.3em;margin-top:-.3em}
li.task-list-item{list-style:none}
input.task-list-item-checkbox{margin:0 .35em .25em -1.6em;vertical-align:middle}
.issue a.respec-gh-label{padding:5px;margin:0 2px 0 2px;font-size:10px;text-transform:none;text-decoration:none;font-weight:700;border-radius:4px;position:relative;bottom:2px;border:none;display:inline-block}
</style>
<style>
pre.idl{padding:1em;position:relative}
pre.idl>code{color:#000}
@media print{
pre.idl{white-space:pre-wrap}
}
.idlHeader{display:block;width:150px;background:#8ccbf2;color:#fff;font-family:sans-serif;font-weight:700;margin:-1em 0 1em -1em;height:28px;line-height:28px}
.idlHeader a.self-link{margin-left:.3cm;text-decoration:none;border-bottom:none}
.idlID{font-weight:700;color:#005a9c}
.idlType{color:#005a9c}
.idlName{color:#ff4500}
.idlName a{color:#ff4500;border-bottom:1px dotted #ff4500;text-decoration:none}
a.idlEnumItem{color:#000;border-bottom:1px dotted #ccc;text-decoration:none}
.idlSuperclass{font-style:italic;color:#005a9c}
.idlDefaultValue,.idlParamName{font-style:italic}
.extAttr{color:#666}
.idlSectionComment{color:gray}
.idlIncludes a{font-weight:700}
.respec-button-copy-paste:focus{text-decoration:none;border-color:#51a7e8;outline:0;box-shadow:0 0 5px rgba(81,167,232,.5)}
.respec-button-copy-paste.selected:focus,.respec-button-copy-paste:focus:hover{border-color:#51a7e8}
.respec-button-copy-paste.zeroclipboard-is-active,.respec-button-copy-paste.zeroclipboard-is-hover,.respec-button-copy-paste:active,.respec-button-copy-paste:hover{text-decoration:none;background-color:#ddd;background-image:linear-gradient(#eee,#ddd);border-color:#ccc}
.respec-button-copy-paste.selected,.respec-button-copy-paste.zeroclipboard-is-active,.respec-button-copy-paste:active{background-color:#dcdcdc;background-image:none;border-color:#b5b5b5;box-shadow:inset 0 2px 4px rgba(0,0,0,.15)}
.respec-button-copy-paste.selected:hover{background-color:#cfcfcf}
.respec-button-copy-paste.disabled,.respec-button-copy-paste.disabled:hover,.respec-button-copy-paste:disabled,.respec-button-copy-paste:disabled:hover{color:rgba(102,102,102,.5);cursor:default;background-color:rgba(229,229,229,.5);background-image:none;border-color:rgba(197,197,197,.5);box-shadow:none}
@media print{
.respec-button-copy-paste{visibility:hidden}
}
</style>
<style>
dfn{cursor:pointer}
.dfn-panel{position:absolute;z-index:35;min-width:300px;max-width:500px;padding:.5em .75em;margin-top:.6em;font:small Helvetica Neue,sans-serif,Droid Sans Fallback;background:#fff;color:#000;box-shadow:0 1em 3em -.4em rgba(0,0,0,.3),0 0 1px 1px rgba(0,0,0,.05);border-radius:2px}
.dfn-panel:not(.docked)>.caret{position:absolute;top:-9px}
.dfn-panel:not(.docked)>.caret::after,.dfn-panel:not(.docked)>.caret::before{content:"";position:absolute;border:10px solid transparent;border-top:0;border-bottom:10px solid #fff;top:0}
.dfn-panel:not(.docked)>.caret::before{border-bottom:9px solid #a2a9b1}
.dfn-panel *{margin:0}
.dfn-panel b{display:block;color:#000;margin-top:.25em}
.dfn-panel ul a[href]{color:#333}
.dfn-panel>div{display:flex}
.dfn-panel a.self-link{font-weight:700;margin-right:auto}
.dfn-panel .marker{padding:.1em;margin-left:.5em;border-radius:.2em;text-align:center;white-space:nowrap;font-size:90%;color:#040b1c}
.dfn-panel .marker.dfn-exported{background:#d1edfd;box-shadow:0 0 0 .125em #1ca5f940}
.dfn-panel .marker.idl-block{background:#8ccbf2;box-shadow:0 0 0 .125em #0670b161}
.dfn-panel a:not(:hover){text-decoration:none!important;border-bottom:none!important}
.dfn-panel a[href]:hover{border-bottom-width:1px}
.dfn-panel ul{padding:0}
.dfn-panel li{margin-left:1em}
.dfn-panel.docked{position:fixed;left:.5em;top:unset;bottom:2em;margin:0 auto;max-width:calc(100vw - .75em * 2 - .5em - .2em * 2);max-height:30vh;overflow:auto}
</style>
    
    
<title>uuid</title>
    
<style id="respec-mainstyle">
@keyframes pop{
0%{transform:scale(1,1)}
25%{transform:scale(1.25,1.25);opacity:.75}
100%{transform:scale(1,1)}
}
.hljs{background:0 0!important}
a abbr,h1 abbr,h2 abbr,h3 abbr,h4 abbr,h5 abbr,h6 abbr{border:none}
dfn{font-weight:700}
a.internalDFN{color:inherit;border-bottom:1px solid #99c;text-decoration:none}
a.externalDFN{color:inherit;border-bottom:1px dotted #ccc;text-decoration:none}
a.bibref{text-decoration:none}
.respec-offending-element:target{animation:pop .25s ease-in-out 0s 1}
.respec-offending-element,a[href].respec-offending-element{text-decoration:red wavy underline}
@supports not (text-decoration:red wavy underline){
.respec-offending-element:not(pre){display:inline-block}
.respec-offending-element{background:url(data:image/gif;base64,R0lGODdhBAADAPEAANv///8AAP///wAAACwAAAAABAADAEACBZQjmIAFADs=) bottom repeat-x}
}
#references :target{background:#eaf3ff;animation:pop .4s ease-in-out 0s 1}
cite .bibref{font-style:normal}
code{color:#c63501}
th code{color:inherit}
a[href].orcid{padding-left:4px;padding-right:4px}
a[href].orcid>svg{margin-bottom:-2px}
.toc a,.tof a{text-decoration:none}
a .figno,a .secno{color:#000}
ol.tof,ul.tof{list-style:none outside none}
.caption{margin-top:.5em;font-style:italic}
table.simple{border-spacing:0;border-collapse:collapse;border-bottom:3px solid #005a9c}
.simple th{background:#005a9c;color:#fff;padding:3px 5px;text-align:left}
.simple th a{color:#fff;padding:3px 5px;text-align:left}
.simple th[scope=row]{background:inherit;color:inherit;border-top:1px solid #ddd}
.simple td{padding:3px 10px;border-top:1px solid #ddd}
.simple tr:nth-child(even){background:#f0f6ff}
.section dd>p:first-child{margin-top:0}
.section dd>p:last-child{margin-bottom:0}
.section dd{margin-bottom:1em}
.section dl.attrs dd,.section dl.eldef dd{margin-bottom:0}
#issue-summary>ul{column-count:2}
#issue-summary li{list-style:none;display:inline-block}
details.respec-tests-details{margin-left:1em;display:inline-block;vertical-align:top}
details.respec-tests-details>*{padding-right:2em}
details.respec-tests-details[open]{z-index:999999;position:absolute;border:thin solid #cad3e2;border-radius:.3em;background-color:#fff;padding-bottom:.5em}
details.respec-tests-details[open]>summary{border-bottom:thin solid #cad3e2;padding-left:1em;margin-bottom:1em;line-height:2em}
details.respec-tests-details>ul{width:100%;margin-top:-.3em}
details.respec-tests-details>li{padding-left:1em}
a[href].self-link:hover{opacity:1;text-decoration:none;background-color:transparent}
h2,h3,h4,h5,h6{position:relative}
aside.example .marker>a.self-link{color:inherit}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{border:none;color:inherit;font-size:83%;height:2em;left:-1.6em;opacity:.5;position:absolute;text-align:center;text-decoration:none;top:0;transition:opacity .2s;width:2em}
h2>a.self-link::before,h3>a.self-link::before,h4>a.self-link::before,h5>a.self-link::before,h6>a.self-link::before{content:"§";display:block}
@media (max-width:767px){
dd{margin-left:0}
h2>a.self-link,h3>a.self-link,h4>a.self-link,h5>a.self-link,h6>a.self-link{left:auto;top:auto}
}
@media print{
.removeOnSave{display:none}
}
</style>
    
  
<meta name="description" content="This specification describes an API for generating character encoded
        Universally Unique Identifiers (UUID) based on [RFC4122], available
        as a method on the Crypto interface.">
<style>
.hljs{display:block;overflow-x:auto;padding:.5em;color:#383a42;background:#fafafa}
.hljs-comment,.hljs-quote{color:#717277;font-style:italic}
.hljs-doctag,.hljs-formula,.hljs-keyword{color:#a626a4}
.hljs-deletion,.hljs-name,.hljs-section,.hljs-selector-tag,.hljs-subst{color:#ca4706;font-weight:700}
.hljs-literal{color:#0b76c5}
.hljs-addition,.hljs-attribute,.hljs-meta-string,.hljs-regexp,.hljs-string{color:#42803c}
.hljs-built_in,.hljs-class .hljs-title{color:#9a6a01}
.hljs-attr,.hljs-number,.hljs-selector-attr,.hljs-selector-class,.hljs-selector-pseudo,.hljs-template-variable,.hljs-type,.hljs-variable{color:#986801}
.hljs-bullet,.hljs-link,.hljs-meta,.hljs-selector-id,.hljs-symbol,.hljs-title{color:#336ae3}
.hljs-emphasis{font-style:italic}
.hljs-strong{font-weight:700}
.hljs-link{text-decoration:underline}
</style>
<style>
var{position:relative;cursor:pointer}
var[data-type]::after,var[data-type]::before{position:absolute;left:50%;top:-6px;opacity:0;transition:opacity .4s;pointer-events:none}
var[data-type]::before{content:"";transform:translateX(-50%);border-width:4px 6px 0 6px;border-style:solid;border-color:transparent;border-top-color:#000}
var[data-type]::after{content:attr(data-type);transform:translateX(-50%) translateY(-100%);background:#000;text-align:center;font-family:"Dank Mono","Fira Code",monospace;font-style:normal;padding:6px;border-radius:3px;color:#daca88;text-indent:0;font-weight:400}
var[data-type]:hover::after,var[data-type]:hover::before{opacity:1}
</style>
<script id="initialUserConfig" type="application/json">{
  "github": "WICG/uuid",
  "editors": [
    {
      "name": "Ben Coe",
      "email": "bencoe@google.com",
      "company": "Google",
      "companyURL": "https://google.com"
    },
    {
      "name": "Robert Kieffer",
      "email": "robert@broofa.com"
    },
    {
      "name": "Christoph Tavan",
      "email": "ctavan@google.com",
      "company": "Google",
      "companyURL": "https://google.com"
    }
  ],
  "shortName": "uuid",
  "specStatus": "CG-DRAFT",
  "group": "wicg",
  "xref": "web-platform",
  "publishISODate": "2021-08-26T00:00:00.000Z",
  "generatedSubtitle": "Draft Community Group Report 26 August 2021"
}</script>
<link rel="stylesheet" href="https://www.w3.org/StyleSheets/TR/2016/cg-draft"></head>
  <body data-cite="WebIDL webcryptoapi HTML INFRA URL WEBIDL DOM FETCH" class="h-entry"><div class="head">
     <h1 id="title" class="title">uuid</h1>
    
    <h2>
      Draft Community Group Report
      <time class="dt-published" datetime="2021-08-26">26 August 2021</time>
    </h2>
    <dl>
      
      <dt>Latest published version:</dt><dd>
              <a href="https://www.w3.org/TR/uuid/">https://www.w3.org/TR/uuid/</a>
            </dd>
      <dt>Latest editor's draft:</dt><dd><a href="https://wicg.github.io/uuid/">https://wicg.github.io/uuid/</a></dd>
      
      
      
      
      <dt>Editors:</dt>
      <dd class="editor p-author h-card vcard">
    <span class="p-name fn">Ben Coe</span> (<a class="p-org org h-org" href="https://google.com">Google</a>)
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Robert Kieffer</span>
  </dd><dd class="editor p-author h-card vcard">
    <span class="p-name fn">Christoph Tavan</span> (<a class="p-org org h-org" href="https://google.com">Google</a>)
  </dd>
      
      
      <dt>Participate:</dt><dd>
    <a href="https://github.com/WICG/uuid/">GitHub WICG/uuid</a>
  </dd><dd>
    <a href="https://github.com/WICG/uuid/issues/">File an issue</a>
  </dd><dd>
    <a href="https://github.com/WICG/uuid/commits/gh-pages">Commit history</a>
  </dd><dd>
    <a href="https://github.com/WICG/uuid/pulls/">Pull requests</a>
  </dd>
    </dl>
    
    <p class="copyright">
          <a href="https://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a>
          ©
          2021
          
          the Contributors to the uuid
          Specification, published by the
          <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a> under the
          <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>. A human-readable
                <a href="https://www.w3.org/community/about/agreements/cla-deed/">summary</a>
                is available.
              
        </p>
    <hr title="Separator for header">
  </div>
    <section id="abstract" class="introductory"><h2>Abstract</h2>
      <p>
        This specification describes an API for generating character encoded
        Universally Unique Identifiers (UUID) based on [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122" title="A Universally Unique IDentifier (UUID) URN Namespace">RFC4122</a></cite>], available
        as a method on the <a data-link-type="idl" data-lt="Crypto" data-type="interface" href="https://www.w3.org/TR/WebCryptoAPI/#dfn-Crypto"><code>Crypto</code></a> interface.
      </p>
    </section>
    <section id="sotd" class="introductory"><h2>Status of This Document</h2><p>
      This specification was published by the
      <a href="https://www.w3.org/community/wicg/">Web Platform Incubator Community Group</a>. It is not a W3C Standard nor is it
      on the W3C Standards Track.
      
            Please note that under the
            <a href="https://www.w3.org/community/about/agreements/cla/">W3C Community Contributor License Agreement (CLA)</a>
            there is a limited opt-out and other conditions apply.
          
      Learn more about
      <a href="https://www.w3.org/community/">W3C Community and Business Groups</a>.
    </p>
      <p>
        This is a work in progress.
      </p>
    <p>
    <a href="https://github.com/WICG/uuid/issues/">GitHub Issues</a> are preferred for
          discussion of this specification.
        
    
  </p></section><nav id="toc"><h2 class="introductory" id="table-of-contents">Table of Contents</h2><ol class="toc"><li class="tocline"><a class="tocxref" href="#abstract">Abstract</a></li><li class="tocline"><a class="tocxref" href="#sotd">Status of This Document</a></li><li class="tocline"><a class="tocxref" href="#goals"><bdi class="secno">1. </bdi>
        Goals
      </a></li><li class="tocline"><a class="tocxref" href="#usage-example"><bdi class="secno">2. </bdi>
        Usage Example
      </a></li><li class="tocline"><a class="tocxref" href="#extensions-to-the-crypto-interface"><bdi class="secno">3. </bdi>
        Extensions to the <code>Crypto</code> interface
      </a><ol class="toc"><li class="tocline"><a class="tocxref" href="#the-randomuuid-method"><bdi class="secno">3.1 </bdi>
          The <code>randomUUID()</code> method
        </a></li></ol></li><li class="tocline"><a class="tocxref" href="#generating-a-random-uuid"><bdi class="secno">4. </bdi>
        Generating a random UUID
      </a></li><li class="tocline"><a class="tocxref" href="#security"><bdi class="secno">5. </bdi>
        Security considerations
      </a></li><li class="tocline"><a class="tocxref" href="#privacy"><bdi class="secno">6. </bdi>
        Privacy considerations
      </a></li><li class="tocline"><a class="tocxref" href="#conformance"><bdi class="secno">7. </bdi>Conformance</a></li><li class="tocline"><a class="tocxref" href="#references"><bdi class="secno">A. </bdi>References</a><ol class="toc"><li class="tocline"><a class="tocxref" href="#normative-references"><bdi class="secno">A.1 </bdi>Normative references</a></li><li class="tocline"><a class="tocxref" href="#informative-references"><bdi class="secno">A.2 </bdi>Informative references</a></li></ol></li></ol></nav>
    <section id="goals">
      <h2 id="x1-goals"><bdi class="secno">1. </bdi>
        Goals
      <a class="self-link" aria-label="§" href="#goals"></a></h2>
      <p>
        Provide a straightforward and secure mechanism for generating UUIDs
        that addresses developers' common needs (identifiers for generated pages,
        identifiers for sessions, identifiers for generated HTML elements,
        database keys, etc.), while minimizing the amount of domain knowledge
        a developer requires to discover and use the feature.
      </p>
    </section>
    <section id="usage-example">
      <h2 id="x2-usage-example"><bdi class="secno">2. </bdi>
        Usage Example
      <a class="self-link" aria-label="§" href="#usage-example"></a></h2>
      <p>
        To generate a UUID, simply call <a data-link-type="idl" data-lt="Crypto" data-type="interface" href="https://www.w3.org/TR/WebCryptoAPI/#dfn-Crypto"><code>Crypto</code></a>'s <a data-link-type="idl" data-lt="randomUUID()" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-1"><code>randomUUID</code></a><code>()</code>
        method:
      </p>
      <div class="example" id="example-1-generate-unique-name-for-download">
        <div class="marker">
    <a class="self-link" href="#example-1-generate-unique-name-for-download">Example<bdi> 1</bdi></a><span class="example-title">: Generate unique name for download</span>
  </div> <pre aria-busy="false"><code class="hljs js"><span class="hljs-keyword">const</span> filename = <span class="hljs-string">`<span class="hljs-subst">${crypto.randomUUID()}</span>.txt`</span>;
<span class="hljs-comment">// do something with filename.</span></code></pre>
      </div>
    </section>
    <section data-dfn-for="Crypto" id="extensions-to-the-crypto-interface">
      <h2 id="x3-extensions-to-the-crypto-interface"><bdi class="secno">3. </bdi>
        Extensions to the <code>Crypto</code> interface
      <a class="self-link" aria-label="§" href="#extensions-to-the-crypto-interface"></a></h2>
      <pre class="idl def" id="webidl-1653845771"><span class="idlHeader"><a class="self-link" href="#webidl-1653845771">WebIDL</a></span><code><span data-idl="" class="idlInterface" id="idl-def-crypto-partial-1" data-title="Crypto">[<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed">Exposed</a>=(<a data-type="interface" href="https://html.spec.whatwg.org/multipage/window-object.html#window">Window</a>,<a data-lt="WorkerGlobalScope" data-type="interface" href="https://html.spec.whatwg.org/multipage/workers.html#workerglobalscope">Worker</a>)</span>]
partial interface <a data-idl="partial" data-link-type="interface" data-title="Crypto" class="idlID" data-dfn-for="Crypto" data-type="interface" href="https://www.w3.org/TR/WebCryptoAPI/#dfn-Crypto">Crypto</a> {<span data-idl="" class="idlMethod" id="idl-def-crypto-randomuuid" data-title="randomUUID" data-dfn-for="Crypto">
  [<span class="extAttr"><a data-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext">SecureContext</a></span>]<span class="idlType"> <a data-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString">DOMString</a></span> <a class="internalDFN idlName" data-link-type="method" href="#dom-crypto-randomuuid" id="ref-for-dom-crypto-randomuuid-2"><code>randomUUID</code></a>();</span>
};</span></code></pre>
      <div class="note" role="note" id="issue-container-generatedID"><div role="heading" class="note-title marker" id="h-note" aria-level="3"><span>Note</span></div><aside class="">
        <p>
          <a data-link-type="idl" data-lt="randomUUID()" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-3"><code>randomUUID</code></a><code>()</code> generates a new <a href="https://www.rfc-editor.org/rfc/rfc4122#section-4.4">version 4 UUID</a> and returns its
          <a href="https://www.rfc-editor.org/rfc/rfc2141#section-2.2">namespace specific string
          representation</a> as described in <a href="https://www.rfc-editor.org/rfc/rfc4122#section-3">section 3</a> of [<cite><a class="bibref" data-link-type="biblio" href="#bib-rfc4122" title="A Universally Unique IDentifier (UUID) URN Namespace">RFC4122</a></cite>].
        </p>
      </aside></div>
      <section id="the-randomuuid-method">
        <h3 id="x3-1-the-randomuuid-method"><bdi class="secno">3.1 </bdi>
          The <code>randomUUID()</code> method
        <a class="self-link" aria-label="§" href="#the-randomuuid-method"></a></h3>
        <p>
          The <dfn data-export="" data-dfn-type="method" id="dom-crypto-randomuuid" data-idl="operation" data-title="randomUUID()" data-dfn-for="Crypto" data-type="DOMString" data-lt="randomUUID()" data-local-lt="Crypto.randomUUID|Crypto.randomUUID()|randomUUID" tabindex="0" aria-haspopup="dialog"><code>randomUUID()</code></dfn> method steps are to return the result of
          <a data-link-type="dfn" href="#dfn-generate-a-random-uuid" class="internalDFN" id="ref-for-dfn-generate-a-random-uuid-1">generating a random UUID</a>.
        </p>
      </section>
    </section>
    <section id="generating-a-random-uuid">
      <h2 id="x4-generating-a-random-uuid"><bdi class="secno">4. </bdi>
        Generating a random UUID
      <a class="self-link" aria-label="§" href="#generating-a-random-uuid"></a></h2>
      <p>
        To <dfn data-local-lt="generating a random UUID" data-export="" data-lt="generate a random UUID|generating a random UUID" id="dfn-generate-a-random-uuid" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">generate a random UUID</dfn>:
      </p>
      <ol>
        <li>Let <var>array</var> be a <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#list">list</a> with 16 elements of the type <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#byte">byte</a>.
        </li>
        <li>Overwrite all elements of <var>array</var> with cryptographically secure
        random values of the type <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#byte">byte</a>.
        </li>
        <li>Set the 4 most significant bits of <var>array</var>[6], which represent the
        UUID <a href="https://www.rfc-editor.org/rfc/rfc4122#section-4.1.3">version</a>, to <code>0b0100</code>.
        </li>
        <li>Set the 2 most significant bits of <var>array</var>[8], which represent the
        UUID <a href="https://www.rfc-editor.org/rfc/rfc4122#section-4.1.1">variant</a>, to <code>0b10</code>.
        </li>
        <li>
          <p>
            Return the <a data-link-type="dfn" data-lt="concatenate" data-type="dfn" href="https://infra.spec.whatwg.org/#string-concatenate">concatenation</a> of «
          </p>
          <ol style="list-style-type: none">
            <li><a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-1">hexadecimal representation</a> of <var>array</var>[0], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-2">hexadecimal representation</a> of <var>array</var>[1], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-3">hexadecimal representation</a> of
            <var>array</var>[2], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-4">hexadecimal representation</a> of <var>array</var>[3],
            </li>
            <li><code>"-"</code>,
            </li>
            <li><a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-5">hexadecimal representation</a> of <var>array</var>[4], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-6">hexadecimal representation</a> of <var>array</var>[5],
            </li>
            <li><code>"-"</code>,
            </li>
            <li><a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-7">hexadecimal representation</a> of <var>array</var>[6], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-8">hexadecimal representation</a> of <var>array</var>[7],
            </li>
            <li><code>"-"</code>,
            </li>
            <li><a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-9">hexadecimal representation</a> of <var>array</var>[8], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-10">hexadecimal representation</a> of <var>array</var>[9],
            </li>
            <li><code>"-"</code>,
            </li>
            <li><a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-11">hexadecimal representation</a> of <var>array</var>[10], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-12">hexadecimal representation</a> of <var>array</var>[11], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-13">hexadecimal representation</a> of
            <var>array</var>[12], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-14">hexadecimal representation</a> of <var>array</var>[13],
            <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-15">hexadecimal representation</a> of <var>array</var>[14], <a data-link-type="dfn" href="#dfn-hexadecimal-representation" class="internalDFN" id="ref-for-dfn-hexadecimal-representation-16">hexadecimal representation</a> of <var>array</var>[15]
            </li>
          </ol>
          <p>
            ».
          </p>
        </li>
      </ol>
      <p>
        For the steps described in the <a data-link-type="dfn" href="#dfn-generate-a-random-uuid" class="internalDFN" id="ref-for-dfn-generate-a-random-uuid-2">generate a random UUID</a> algorithm,
        the <dfn id="dfn-hexadecimal-representation" tabindex="0" aria-haspopup="dialog" data-dfn-type="dfn">hexadecimal representation</dfn> of a <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#byte">byte</a> <var>value</var> is the
        two-character string created by expressing <var>value</var> in hexadecimal using
        <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#ascii-lower-hex-digit">ASCII lower hex digits</a>, left-padded with <code>"0"</code> to reach two
        <a data-link-type="dfn" data-type="dfn" href="https://infra.spec.whatwg.org/#code-point">characters</a>.
      </p>
    </section>
    <section id="security" class="informative">
      <h2 id="x5-security-considerations"><bdi class="secno">5. </bdi>
        Security considerations
      <a class="self-link" aria-label="§" href="#security"></a></h2><p><em>This section is non-normative.</em></p>
      <dl>
        <dt>
          Denial of service
        </dt>
        <dd>
          Generating random values has the potential to perform computationally
          expensive and/or blocking work (<em>if there is not enough entropy
          available in the system</em>). As such, hostile applications may
          attempt to misuse this API and attempt to cause significant amount of
          work to be performed by an implementation, denying access or services
          to other applications that are executing. In practice, these concerns
          can be mitigated by using non-blocking sources of randomness, e.g.,
          "/dev/urandom". See also, <dfn id="dfn-webcrypto-security-considerations" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/WebCryptoAPI/#security-considerations">WebCrypto Security
          Considerations</a></dfn>.
        </dd>
        <dt>
          Insufficient entropy
        </dt>
        <dd>
          If <a data-link-type="idl" data-lt="randomUUID()" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-4"><code>randomUUID</code></a><code>()</code> is invoked before the underlying system is
          seeded with enough entropy it may result in colliding UUIDs (due to
          cycles in the PRNG). Authors of applications that use
          <a data-link-type="idl" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-5"><code>randomUUID</code></a> need to be aware of these risks.
        </dd>
      </dl>
    </section>
    <section id="privacy" class="informative">
      <h2 id="x6-privacy-considerations"><bdi class="secno">6. </bdi>
        Privacy considerations
      <a class="self-link" aria-label="§" href="#privacy"></a></h2><p><em>This section is non-normative.</em></p>
      <dl>
        <dt>
          Fingerprinting
        </dt>
        <dd>
          By exposing additional APIs that reflect capabilities of the
          underlying platform, this specification may allow malicious
          applications to determine or distinguish different user agents or
          devices. One such approach is outlined in <a href="https://www.youtube.com/watch?v=5sZT9FTx3aQ">Clock Around the Clock:
          Time-Based Device Fingerprinting</a> which discusses creating a
          fingerprint based on a PRNG in JavaScript. <a data-link-type="idl" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-6"><code>randomUUID</code></a> is
          not likely to make users more susceptible to fingerprinting than they
          are through existing cryptography methods. See also, <dfn id="dfn-webcrypto-privacy-considerations" class="externalDFN" data-no-export="" data-dfn-type="dfn"><a href="https://www.w3.org/TR/WebCryptoAPI/#privacy">WebCrypto Privacy Considerations</a></dfn>.
        </dd>
        <dt>
          Use of <a data-link-type="idl" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-7"><code>randomUUID</code></a> as user ID
        </dt>
        <dd>
          <a data-link-type="idl" href="#dom-crypto-randomuuid" class="internalDFN" id="ref-for-dom-crypto-randomuuid-8"><code>randomUUID</code></a> is useful for generating <a href="https://w3cping.github.io/privacy-threat-model/#user-id">user
          IDs</a>, but does not directly give any ability to generate <a href="https://w3cping.github.io/privacy-threat-model/#global-identifier">global
          identifiers</a>.
        </dd>
      </dl>
    </section>
    <section id="conformance"><h2 id="x7-conformance"><bdi class="secno">7. </bdi>Conformance<a class="self-link" aria-label="§" href="#conformance"></a></h2><p>As well as sections marked as non-normative, all authoring guidelines, diagrams, examples, and notes in this specification are non-normative. Everything else in this specification is normative.</p></section>
  

<section id="references" class="appendix"><h2 id="a-references"><bdi class="secno">A. </bdi>References<a class="self-link" aria-label="§" href="#references"></a></h2><section id="normative-references">
    <h3 id="a-1-normative-references"><bdi class="secno">A.1 </bdi>Normative references<a class="self-link" aria-label="§" href="#normative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-html">[HTML]</dt><dd><a href="https://html.spec.whatwg.org/multipage/"><cite>HTML Standard</cite></a>. Anne van Kesteren; Domenic Denicola; Ian Hickson; Philip Jägenstedt; Simon Pieters.  WHATWG. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a></dd><dt id="bib-infra">[infra]</dt><dd><a href="https://infra.spec.whatwg.org/"><cite>Infra Standard</cite></a>. Anne van Kesteren; Domenic Denicola.  WHATWG. Living Standard. URL: <a href="https://infra.spec.whatwg.org/">https://infra.spec.whatwg.org/</a></dd><dt id="bib-rfc4122">[RFC4122]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc4122"><cite>A Universally Unique IDentifier (UUID) URN Namespace</cite></a>. P. Leach; M. Mealling; R. Salz.  IETF. July 2005. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc4122">https://www.rfc-editor.org/rfc/rfc4122</a></dd><dt id="bib-webcryptoapi">[WebCryptoAPI]</dt><dd><a href="https://www.w3.org/TR/WebCryptoAPI/"><cite>Web Cryptography API</cite></a>. Mark Watson.  W3C. 26 January 2017. W3C Recommendation. URL: <a href="https://www.w3.org/TR/WebCryptoAPI/">https://www.w3.org/TR/WebCryptoAPI/</a></dd><dt id="bib-webidl">[webidl]</dt><dd><a href="https://heycam.github.io/webidl/"><cite>Web IDL</cite></a>. Boris Zbarsky.  W3C. 15 December 2016. W3C Editor's Draft. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a></dd></dl>
  </section><section id="informative-references">
    <h3 id="a-2-informative-references"><bdi class="secno">A.2 </bdi>Informative references<a class="self-link" aria-label="§" href="#informative-references"></a></h3>
    <dl class="bibliography"><dt id="bib-rfc2141">[RFC2141]</dt><dd><a href="https://www.rfc-editor.org/rfc/rfc2141"><cite>URN Syntax</cite></a>. R. Moats.  IETF. May 1997. Proposed Standard. URL: <a href="https://www.rfc-editor.org/rfc/rfc2141">https://www.rfc-editor.org/rfc/rfc2141</a></dd></dl>
  </section></section><p role="navigation" id="back-to-top">
    <a href="#title"><abbr title="Back to Top">↑</abbr></a>
  </p><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dom-crypto-randomuuid" aria-label="Links in this document to definition: randomUUID()">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dom-crypto-randomuuid" aria-label="Permalink for definition: randomUUID(). Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> <a class="marker idl-block" title="Jump to IDL declaration" href="#webidl-1653845771">IDL</a>
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dom-crypto-randomuuid-1" title="§ 2. Usage Example">§ 2. Usage Example</a> 
  </li><li>
    <a href="#ref-for-dom-crypto-randomuuid-2" title="§ 3. Extensions to the Crypto interface">§ 3. Extensions to the Crypto interface</a> <a href="#ref-for-dom-crypto-randomuuid-3" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-crypto-randomuuid-4" title="§ 5. Security considerations">§ 5. Security considerations</a> <a href="#ref-for-dom-crypto-randomuuid-5" title="Reference 2">(2)</a> 
  </li><li>
    <a href="#ref-for-dom-crypto-randomuuid-6" title="§ 6. Privacy considerations">§ 6. Privacy considerations</a> <a href="#ref-for-dom-crypto-randomuuid-7" title="Reference 2">(2)</a> <a href="#ref-for-dom-crypto-randomuuid-8" title="Reference 3">(3)</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-generate-a-random-uuid" aria-label="Links in this document to definition: generate a random UUID">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-generate-a-random-uuid" aria-label="Permalink for definition: generate a random UUID. Activate to close this dialog.">Permalink</a>
        <span class="marker dfn-exported" title="Definition can be referenced by other specifications">exported</span> 
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-generate-a-random-uuid-1" title="§ 3.1 The randomUUID() method">§ 3.1 The randomUUID() method</a> 
  </li><li>
    <a href="#ref-for-dfn-generate-a-random-uuid-2" title="§ 4. Generating a random UUID">§ 4. Generating a random UUID</a> 
  </li>
  </ul>
    </div><div class="dfn-panel" hidden="" role="dialog" aria-modal="true" id="dfn-panel-for-dfn-hexadecimal-representation" aria-label="Links in this document to definition: hexadecimal representation">
      <span class="caret"></span>
      <div>
        <a class="self-link" href="#dfn-hexadecimal-representation" aria-label="Permalink for definition: hexadecimal representation. Activate to close this dialog.">Permalink</a>
         
      </div>
      <p><b>Referenced in:</b></p>
      <ul>
    <li>
    <a href="#ref-for-dfn-hexadecimal-representation-1" title="§ 4. Generating a random UUID">§ 4. Generating a random UUID</a> <a href="#ref-for-dfn-hexadecimal-representation-2" title="Reference 2">(2)</a> <a href="#ref-for-dfn-hexadecimal-representation-3" title="Reference 3">(3)</a> <a href="#ref-for-dfn-hexadecimal-representation-4" title="Reference 4">(4)</a> <a href="#ref-for-dfn-hexadecimal-representation-5" title="Reference 5">(5)</a> <a href="#ref-for-dfn-hexadecimal-representation-6" title="Reference 6">(6)</a> <a href="#ref-for-dfn-hexadecimal-representation-7" title="Reference 7">(7)</a> <a href="#ref-for-dfn-hexadecimal-representation-8" title="Reference 8">(8)</a> <a href="#ref-for-dfn-hexadecimal-representation-9" title="Reference 9">(9)</a> <a href="#ref-for-dfn-hexadecimal-representation-10" title="Reference 10">(10)</a> <a href="#ref-for-dfn-hexadecimal-representation-11" title="Reference 11">(11)</a> <a href="#ref-for-dfn-hexadecimal-representation-12" title="Reference 12">(12)</a> <a href="#ref-for-dfn-hexadecimal-representation-13" title="Reference 13">(13)</a> <a href="#ref-for-dfn-hexadecimal-representation-14" title="Reference 14">(14)</a> <a href="#ref-for-dfn-hexadecimal-representation-15" title="Reference 15">(15)</a> <a href="#ref-for-dfn-hexadecimal-representation-16" title="Reference 16">(16)</a> 
  </li>
  </ul>
    </div><script id="respec-dfn-panel">(() => {
// @ts-check
if (document.respec) {
  document.respec.ready.then(setupPanel);
} else {
  setupPanel();
}

function setupPanel() {
  const listener = panelListener();
  document.body.addEventListener("keydown", listener);
  document.body.addEventListener("click", listener);
}

function panelListener() {
  /** @type {HTMLElement} */
  let panel = null;
  return event => {
    const { target, type } = event;

    if (!(target instanceof HTMLElement)) return;

    // For keys, we only care about Enter key to activate the panel
    // otherwise it's activated via a click.
    if (type === "keydown" && event.key !== "Enter") return;

    const action = deriveAction(event);

    switch (action) {
      case "show": {
        hidePanel(panel);
        /** @type {HTMLElement} */
        const dfn = target.closest("dfn, .index-term");
        panel = document.getElementById(`dfn-panel-for-${dfn.id}`);
        const coords = deriveCoordinates(event);
        displayPanel(dfn, panel, coords);
        break;
      }
      case "dock": {
        panel.style.left = null;
        panel.style.top = null;
        panel.classList.add("docked");
        break;
      }
      case "hide": {
        hidePanel(panel);
        panel = null;
        break;
      }
    }
  };
}

/**
 * @param {MouseEvent|KeyboardEvent} event
 */
function deriveCoordinates(event) {
  const target = /** @type HTMLElement */ (event.target);

  // We prevent synthetic AT clicks from putting
  // the dialog in a weird place. The AT events sometimes
  // lack coordinates, so they have clientX/Y = 0
  const rect = target.getBoundingClientRect();
  if (
    event instanceof MouseEvent &&
    event.clientX >= rect.left &&
    event.clientY >= rect.top
  ) {
    // The event probably happened inside the bounding rect...
    return { x: event.clientX, y: event.clientY };
  }

  // Offset to the middle of the element
  const x = rect.x + rect.width / 2;
  // Placed at the bottom of the element
  const y = rect.y + rect.height;
  return { x, y };
}

/**
 * @param {Event} event
 */
function deriveAction(event) {
  const target = /** @type {HTMLElement} */ (event.target);
  const hitALink = !!target.closest("a");
  if (target.closest("dfn:not([data-cite]), .index-term")) {
    return hitALink ? "none" : "show";
  }
  if (target.closest(".dfn-panel")) {
    if (hitALink) {
      return target.classList.contains("self-link") ? "hide" : "dock";
    }
    const panel = target.closest(".dfn-panel");
    return panel.classList.contains("docked") ? "hide" : "none";
  }
  if (document.querySelector(".dfn-panel:not([hidden])")) {
    return "hide";
  }
  return "none";
}

/**
 * @param {HTMLElement} dfn
 * @param {HTMLElement} panel
 * @param {{ x: number, y: number }} clickPosition
 */
function displayPanel(dfn, panel, { x, y }) {
  panel.hidden = false;
  // distance (px) between edge of panel and the pointing triangle (caret)
  const MARGIN = 20;

  const dfnRects = dfn.getClientRects();
  // Find the `top` offset when the `dfn` can be spread across multiple lines
  let closestTop = 0;
  let minDiff = Infinity;
  for (const rect of dfnRects) {
    const { top, bottom } = rect;
    const diffFromClickY = Math.abs((top + bottom) / 2 - y);
    if (diffFromClickY < minDiff) {
      minDiff = diffFromClickY;
      closestTop = top;
    }
  }

  const top = window.scrollY + closestTop + dfnRects[0].height;
  const left = x - MARGIN;
  panel.style.left = `${left}px`;
  panel.style.top = `${top}px`;

  // Find if the panel is flowing out of the window
  const panelRect = panel.getBoundingClientRect();
  const SCREEN_WIDTH = Math.min(window.innerWidth, window.screen.width);
  if (panelRect.right > SCREEN_WIDTH) {
    const newLeft = Math.max(MARGIN, x + MARGIN - panelRect.width);
    const newCaretOffset = left - newLeft;
    panel.style.left = `${newLeft}px`;
    /** @type {HTMLElement} */
    const caret = panel.querySelector(".caret");
    caret.style.left = `${newCaretOffset}px`;
  }

  // As it's a dialog, we trap focus.
  // TODO: when <dialog> becomes a implemented, we should really
  // use that.
  trapFocus(panel, dfn);
}

/**
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function trapFocus(panel, dfn) {
  /** @type NodeListOf<HTMLAnchorElement> elements */
  const anchors = panel.querySelectorAll("a[href]");
  // No need to trap focus
  if (!anchors.length) return;

  // Move focus to first anchor element
  const first = anchors.item(0);
  first.focus();

  const trapListener = createTrapListener(anchors, panel, dfn);
  panel.addEventListener("keydown", trapListener);

  // Hiding the panel releases the trap
  const mo = new MutationObserver(records => {
    const [record] = records;
    const target = /** @type HTMLElement */ (record.target);
    if (target.hidden) {
      panel.removeEventListener("keydown", trapListener);
      mo.disconnect();
    }
  });
  mo.observe(panel, { attributes: true, attributeFilter: ["hidden"] });
}

/**
 *
 * @param {NodeListOf<HTMLAnchorElement>} anchors
 * @param {HTMLElement} panel
 * @param {HTMLElement} dfn
 * @returns
 */
function createTrapListener(anchors, panel, dfn) {
  const lastIndex = anchors.length - 1;
  let currentIndex = 0;
  return event => {
    switch (event.key) {
      // Hitting "Tab" traps us in a nice loop around elements.
      case "Tab": {
        event.preventDefault();
        currentIndex += event.shiftKey ? -1 : +1;
        if (currentIndex < 0) {
          currentIndex = lastIndex;
        } else if (currentIndex > lastIndex) {
          currentIndex = 0;
        }
        anchors.item(currentIndex).focus();
        break;
      }

      // Hitting "Enter" on an anchor releases the trap.
      case "Enter":
        hidePanel(panel);
        break;

      // Hitting "Escape" returns focus to dfn.
      case "Escape":
        hidePanel(panel);
        dfn.focus();
        return;
    }
  };
}

/** @param {HTMLElement} panel */
function hidePanel(panel) {
  if (!panel) return;
  panel.hidden = true;
  panel.classList.remove("docked");
}
})()</script><script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script></body></html>